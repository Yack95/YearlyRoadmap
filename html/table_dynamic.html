<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <body>
    <p>Hello&nbsp;<span><?= fn?></span> <br> This is the table with the latest updates.<br> Best,
    </p>
    <table style="border-collapse: collapse; width: 100%; height: 330px; background-color: #ced4d9; border: 1px solid;" border="1" >
        
        <tbody>
            
            <tr style="height: 22px; background-color: #c0e5df; border-color: #ffffff;">
                <td style="width: 29.9123%; height: 22px; text-align: center; background-color: #ced4d9;" colspan="16"><strong>Roadmap 2022</strong></td>
            </tr>
            <tr style="height: 22px; background-color: #c0e5df; border-color: #ffffff;">
                <td style="width: 15%; height: 22px; text-align: center; background-color: #ced4d9;"><strong>Category</strong></td>
                <td style="width: 5%; height: 22px; text-align: center; background-color: #ced4d9;"><strong>Activity</strong></td>
                <td style="width: 15%; height: 22px; text-align: center; background-color: #ced4d9;"><strong>Details</strong></td>
                <td style="width: 5%; height: 22px; text-align: center; background-color: #ced4d9;" colspan="3"><strong>Q1</strong></td>
                <td style="width: 5%; height: 22px; text-align: center; background-color: #ced4d9;" colspan="3"><strong>Q2</strong></td>
                <td style="width: 5%; height: 22px; text-align: center; background-color: #ced4d9;" colspan="3"><strong>Q3</strong></td>
                <td style="width: 5%; height: 22px; text-align: center; background-color: #ced4d9;" colspan="3"><strong>Q4</strong></td>
                <td style="width: 5%; height: 22px; text-align: center; background-color: #ced4d9;"><strong>Nominate</strong></td>
            </tr>
            <? categories.forEach((category) =>{?>
                <? category.activities.forEach((activity, index) =>{
                    var isLast = index === category.numberOfActivities -1;
                    
                    ?>
            
            <?if(isLast){ ?>
                <tr style="height: 22px; background-color: #ffffff;  border-bottom-color: #000000;"> 
            <? } else { ?>
                <tr style="height: 22px; background-color: #ffffff;  border-color: #ecf0f1;"> 
            <? } ?>            
            
                <?if(!index){ ?>
                <td style="width: 15%; height: 88px; text-align: left; background-color:  #ffffff; border-bottom-color: #000000;" rowspan="<?= category.numberOfActivities ?>"><?= category.categoryName ?> <br><?= category.targetLevel ?>Â </td>
                <? } ?>
                <td style="width: 5%; height: 22px; background-color:  #ffffff;"><?= activity.programName ?> 
                    <p><?= activity.googlePOC ?></p>
                </td>
                
                <td style="width: 15%; height: 22px; background-color:  #ffffff;">
                    <p><?= activity.programDescription ?> &amp; 
                        <a href="https://laclick.com">Link</a>
                    </p>
                </td>
                
                <?for (var i =1; i<= 12; i++){ ?>
                    <td style="width: 5%; height: 22px; background-color: #ffffff;">
                     <div style="position:relative;">
                        <? activity.events.forEach(event =>{
                            if(event.startMonth === i && event.activityId === "AC13") { ?>
                            <p style="font-size: 10px;margin-bottom:<?= event.startMargin ?>% ;"><?=event.aejName ?></p>
                            <? }else if (event.startMonth === i && event.eventType === "Academy"){ ?>
                                <img src="https://www.laclick.com/wp-content/uploads/2021/11/Diamond_30px.png" style="width: 20px; height: 20px; margin-left:<?= event.startMargin ?>% ; position:absolute; top:0; bottom:0">
                            <? } else if (event.startMonth === i  && event.eventType === "Roundtable") {?>
                                <img src="https://www.laclick.com/wp-content/uploads/2021/11/Square_30px.png" style="width: 20px; height: 20px; margin-left:<?= event.startMargin ?>% ; position:absolute; top:0; bottom:0">
                            <? } else if (event.startMonth === i  && event.eventType === "Summit") {?>
                                 <img src="https://www.laclick.com/wp-content/uploads/2021/11/Trapezium_30px.png" style="width: 20px; height: 20px; margin-left:<?= event.startMargin ?>% ; position:absolute; top:0; bottom:0">
                            <? } else if (event.startMonth === i  && event.eventType === "Workshop") {?>
                                 <img src="https://www.laclick.com/wp-content/uploads/2021/11/Cloud_30px.png" style="width: 20px; height: 20px; margin-left:<?= event.startMargin ?>% ; position:absolute; top:0; bottom:0">
                            <? } else if (event.startMonth !== i*3) {?>
                                
                            <? }?>
                        <? }) ?>
                    </div>
                    </td>
                <? } ?>    
                
                <!--Access button-->
                
                <td style="width: 5%; height: 22px; background-color:  #ffffff;">
                <p style="font-family: Roboto, Arial, helvetica, sans-serif; font-weight: 300; padding-bottom: 5px; padding-top: 5px; font-size: 15px; line-height: 20px; color: #4d4d4d; text-align: center;"></p>
                    <? if(activity.nominateURL === ""){ ?>
                            <p></p>
                            <? } else { ?>                                  
                            <a style="color: black; line-height: 32px; text-decoration-line: underline; margin: 0px; width: 100%; padding: 10px; background-color: #ced4d8; border-radius: 12px;" href="<?= activity.nominateURL ?>" target="_blank" rel="noopener">Nominate</a>      
                    <? } ?>
                </p>
                </td> 
           
            </tr>
            <? }) ?>
            <?}) ?>
            
            <tr style="height: 22px; background-color: white; border-color: white">
                <td style="width: 29.9123%; height: 22px; text-align: left; background-color:white;" colspan="16">
                  <strong>Legend:</strong>&nbsp;
                  Academy:&nbsp;<img src="https://www.laclick.com/wp-content/uploads/2021/11/Diamond_30px.png" style="width: 20px; height: 20px; vertical-align: bottom;">&nbsp;
                  Roundtable:&nbsp;<img src="https://www.laclick.com/wp-content/uploads/2021/11/Square_30px.png" style="width: 20px; height: 20px; vertical-align: bottom;">&nbsp;
                  Summite:&nbsp;<img src="https://www.laclick.com/wp-content/uploads/2021/11/Trapezium_30px.png" style="width: 20px; height: 20px; vertical-align: bottom;">&nbsp;
                  Workshop:&nbsp;<img src="https://www.laclick.com/wp-content/uploads/2021/11/Cloud_30px.png" style="width: 20px; height: 20px; vertical-align: bottom;">&nbsp;  
                </td>
            </tr>
            
        </tbody>
    
    </table>
    
  </body>
</html>
